Juraj Kardos, 2014.
Implementation of GA for approximation of noisy data by 3rd order polynomial function.

Noisy data are generated by given polynomial function
defined in file generator.c and adding small noise. Data
are located in file input.txt. Format of file is couple
x and f'(x) on each line, where f'(x) is noisy polynomial
function we want to approximate. 
Usage: $./generator N, where N is number of generated data
points.

GA consists of three different impmlementations:
1) CPU serial code
2) GPU accelerated code
3) MPI code using multiple GPUs

Exact solution, i.e. generating polynomial function f(x) without noise has 
these parameters:
$ cat solution.txt 
c0 = -5;
c1 = 3;
c2 = 4;
c3 = -2;

Ad 1)
$ ./cpu input.txt 
Reading file - success!
------------------------------------------------------------
Finished! Found Solution:
	c0 = -4.78963
	c1 = 2.92177
	c2 = 3.53095
	c3 = -1.72443
Best fitness: 4.30823
Generations: 1500
Time for CPU calculation equals 35.92 seconds [16x smaller population than GPU]

Ad 2.)
$ ./gpu input.txt 
Reading file - success!
------------------------------------------------------------
Finished! Found Solution:
	c0 = -5.00638
	c1 = 2.97788
	c2 = 4.04224
	c3 = -2.00125
Best fitness: 1.91558
Generations: 1500
Time for GPU calculation equals 5.98 seconds [non-coalesced gl. memory access]


Ad 3.)
jkardos@tesla-cmc:~/certification/genetic_algorithm/code$ mpirun -np 4 ./mpi input.txt
Reading file - success!
Reading file - success!
Reading file - success!
Reading file - success!
Rank: 0
Best fitness: 1.91608
Generations: 1500
Time for GPU calculation equals 4.91 seconds [coalesced gl. memory access]
Rank: 2
Best fitness: 1.91568
Generations: 1500
Time for GPU calculation equals 6.69 seconds
Rank: 1
Best fitness: 1.91623
Generations: 1500
Time for GPU calculation equals 6.77 seconds
Rank: 3
Best fitness: 1.9162
Generations: 1500
Time for GPU calculation equals 6.82 seconds

------------------------------------------------------------
Finished! Found Solution at process 2: 
	c0 = -5.00549
	c1 = 2.9794
	c2 = 4.04138
	c3 = -2.00146
Best fitness: 1.91568
Generations: 1500
Time for GPU calculation equals 6.69 seconds



Fitness is squared sum of difference between approximation function g(x) and
noisy data points. The lower fitness the better approximation.
Fitness = sum for 1..N(sqr(g(x_i)-f'(x_i)))

